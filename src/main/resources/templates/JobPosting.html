<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <title> InternMap </title>
    <link rel="icon" type="image/png" href="/images/Logo Glass Large.png">
    <link rel="stylesheet" th:href="@{/jobPosting.css}">
    <link rel="stylesheet" href="/static/InternMapHomepage.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
          rel="stylesheet">
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"-->
<!--          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* Search and Action Buttons Styling */
        .search-action-container {
            max-width: 1200px;
            margin: 40px auto;
            padding: 0 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .search-form {
            display: flex;
            gap: 10px;
            width: 100%;
            max-width: 600px;
            align-items: center;
        }

        .search-input {
            flex: 1;
            padding: 12px 20px;
            border-radius: 34px;
            border: 2px #d54e4e;
            @media (prefers-color-scheme: dark) {
                color: white;
                background: rgba(43, 43, 43, 0.8);
            }
            @media (prefers-color-scheme: light) {
                color: white;
                background: rgba(246, 246, 246, 0.8);
            }
            font-size: 16px;
            font-weight: 500;
            outline: none;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            border-color: #ededed;
            @media (prefers-color-scheme: light) {
                background: #ededed;
            }
            @media (prefers-color-scheme: dark) {
                background: #2e2e2e;
            }
        }

        .search-button {
            padding: 12px 30px;
            border-radius: 34px;
            border: none;
            background: #2391FF;
            color: #FFF;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .search-button:hover {
            background: #1c7ae6;
            transform: translateY(-2px);
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .action-btn {
            padding: 10px 25px;
            border-radius: 34px;
            border: 2px solid #2391FF;
            background: #2391FF;
            color: #FFF;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .action-btn:hover {
            background: #1c7ae6;
            border-color: #1c7ae6;
            transform: translateY(-2px);
        }

        .action-btn.secondary {
            background: transparent;
            color: #2391FF;
        }

        .action-btn.secondary:hover {
            background: rgba(35, 145, 255, 0.1);
        }

        @media (max-width: 768px) {
            .search-form {
                flex-direction: column;
                width: 100%;
            }

            .search-input {
                width: 100%;
            }

            .search-button {
                width: 100%;
            }

            .action-buttons {
                flex-direction: column;
                width: 100%;
            }

            .action-btn {
                width: 100%;
            }
        }
    </style>
</head>

<!--<header>-->
<!--    <div id="h1">-->
<!--        <div id="T1" class="box-title">-->
<!--            InternMap-->
<!--        </div>-->
<!--        <div id="s1" class="box-sign-buttons">-->
<!--            <button id="hb1"> Sign in</button>-->
<!--            <button id="hb2"> Sign up</button>-->
<!--        </div>-->
<!--    </div>-->
<!--    <div id="l1">-->
<!--            <img id="logo" th:src="@{/images/Logo Glass.png}" alt="Logo">-->
<!--        <span id="p1">InternMap</span>-->
<!--        <span id="p2">Welcome to the platform that sets your future for you</span>-->
<!--    </div>-->
<!--</header>-->

<header>
    <div id="h1">
        <div id="T1" class="box-title" onclick="location.href = '/'" style="cursor: pointer">
            InternMap
        </div>
        <div id="s1" class="box-sign-buttons">
            <button id="hb1" onclick="location.href='/login'" th:if="${isLoggedIn == false}">Sign in</button>
            <a th:href="@{/signup-choice}" style="text-decoration: none;"></a>
            <button id="hb3" onclick="location.href='/signup-choice'" th:if="${isLoggedIn == false}">Sign up</button>
            <form id="hb4" onclick="location.href='/logout';" th:if="${isLoggedIn == true}">Log out</form>
            <button id="hb6" onclick="location.href='/profile'" th:if="${isLoggedIn == true}">
                <img id="person-fill" src="/images/person_fill.png" alt="Profile" style="width: 25px; height: 26px; margin-left: 10px;">
            </button>

        </div>
    </div>

    <div id="l1">
        <img id="logo" src="/images/Logo Glass.png" alt="This didn't load successfuly >:(" onclick="location.href = '/';" style="cursor: pointer">
        <span id="p1">InternMap</span>
        <span id="p2">Welcome to the platform that sets your future for you</span>
    </div>
</header>

<body>

<div class="search-action-container">
    <div id="bb1" class="no-longer-a-box">
        <div id="bh">
            Explore Job Postings
        </div>
        <div id="bb2">
            <button id="bu1" onclick="location.href = '/'">Roadmaps</button>
            <button id="bu2"> Positions</button>
        </div>
    </div>
    <form th:action="@{/JobPostings/search(searchQuery=${searchQuery})}" method="post" class="search-form">
            <input type="text" name="searchQuery" placeholder="Search by company name or job title" class="search-input"/>
        <button type="submit" class="search-button"><img src="/images/magnifying_glass.png" alt="Magnifying glass" style="width: 22px; height: 22px"></button>
    </form>

    <div class="action-buttons">
        <a th:href="@{/JobPostingForm}" th:if="${isRecruiter == true}">
            <button class="action-btn">Add a job posting</button>
        </a>
        <a th:href="@{/recruiter/jobpostings}" th:if="${isRecruiter == true}">
            <button class="action-btn">View Your job postings</button>
        </a>
    </div>
    <div style="margin-top: 70px; margin-bottom: -90px;">
        <a th:if="${jobPostings.isEmpty()}"
           style="text-decoration: none; font-size: 40px; font-weight: bold; color: #3e3e3e; display: flex; justify-content: center;">
            No job postings to show.
        </a>
    </div>
</div>

<div>
    <div class="grid" id="box">
        <div class="box" th:each="job : ${jobPostings}">
            <div id="Title" th:text="${job.jobName}">Title</div>
            <div id="info" th:text="${job.jobDescription}">
                "Here's to the crazy ones, the misfits, the rebels, the troublemakers, the round pegs in the square holes... the ones who see things differently - they're not fond of rules... You can quote them, disagree with them, glorify or vilify them, but the only thing you can't do is ignore them because they change things... they push the human race forward, and while some may see them as the crazy ones, we see genius, because the ones who are crazy enough to think that they can change the world, are the ones who do."
            </div>
            <hr id="separator">
            <div id="details" style="font-weight: bold; font-size: 20px;">Details</div>
            <div class="unordered-list" id="details-specifics">
                <ul>
                    <li>Email: <span th:text="${job.recruiterEmail}">example@example.com</span></li>
                    <li>Company: <span th:text="${job.companyName}">[COMPANY NAME]</span></li>
                    <li>Posting Type: <span th:text="${job.jobPostingType}">Full Time</span></li>
                    <li>Date Posted: <span th:text="${job.datePosted}">2024-01-01</span></li>
                    <li>Requirements: <span th:text="${job.jobRequirements}">Requirements</span></li>
                    <li>Job ID: <span th:text="${job.jobPostingUUID}">UUID</span></li>
                </ul>
                <div id="bottom" style="justify-items: right; display: flex; justify-content: flex-end">
                    <a th:href="@{/applications/new(jobId=${job.jobPostingUUID})}" style="text-decoration: none" th:if="${isRecruiter == false && isAdmin == false}">
                        <button id="apply-button">Apply</button>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
</body>

<!--<br><br><br><br><br><br><br>-->
<footer>
    <div>
        <!--    <img id="footer-image" src="/images/Footer image.png">-->
        <div id="footer">
            <div id="ft1" class="can-we-stop-with-the-boxes-please">
                InternMap
            </div>
            <div id="ft2">
                <ul class="quick-links">
                    <li>
                        <a onclick="location.href = '/'" style="cursor: pointer">Home </a>
                    </li>
                    <li><a onclick="location.href = '/'" style="cursor: pointer">RoadMaps</a></li>
                    <li><a onclick="location.href = '/JobPostings'" style="cursor: pointer" >JobPostings</a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>
</html>
